@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  --font-sans: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
  --font-mono: var(--font-geist-mono), ui-monospace, monospace;
  --font-display: var(--font-geist-mono), ui-monospace, monospace;
  --default-font-size: 0.875rem; /* 14px */
}

html,
body {
  scroll-behavior: smooth !important;
}

@keyframes shimmer {
  0% { background-position: 0 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Gradient button */
.btn-gradient {
  background: linear-gradient(135deg, #14b8a6, #06b6d4, #3b82f6) !important;
  background-size: 300% 300% !important;
  animation: shimmer 3s ease-out infinite alternate !important;
  border: 0 !important;
  color: white !important;
  box-shadow: 0 8px 16px -4px rgb(20 184 166 / 0.3), 0 4px 6px -2px rgb(20 184 166 / 0.2) !important;
}

.btn-gradient:hover {
  filter: brightness(1.1) saturate(1.2) !important;
  box-shadow: 0 12px 24px -4px rgb(20 184 166 / 0.4), 0 6px 8px -2px rgb(20 184 166 / 0.3) !important;
}

/* shadcn/ui CSS variables - Pure neutral colors (0 hue, 0 saturation) */
:root,
.dark {
  /* Base colors - Pure neutral grays */
  --background: 0 0% 7%; /* #121212 - Darkest background */
  --foreground: 0 0% 98%; /* #fafafa - Light text */

  --card: 0 0% 10%; /* #1a1a1a - Card background */
  --card-foreground: 0 0% 98%; /* #fafafa */

  --popover: 0 0% 12%; /* #1f1f1f - Slightly lighter for popovers */
  --popover-foreground: 0 0% 98%; /* #fafafa */

  --primary: 174 72% 46%; /* #0d9488 - Darker teal for better contrast */
  --primary-foreground: 0 0% 100%; /* #ffffff */

  --secondary: 0 0% 15%; /* #262626 */
  --secondary-foreground: 0 0% 98%; /* #fafafa */

  --muted: 0 0% 15%; /* #262626 - Muted background */
  --muted-foreground: 0 0% 55%; /* #8c8c8c - Darker muted text */

  --accent: 0 0% 18%; /* #2e2e2e - Accent background */
  --accent-foreground: 0 0% 98%; /* #fafafa */

  --destructive: 0 72% 51%; /* #ef4444 */
  --destructive-foreground: 0 0% 98%; /* #fafafa */

  --border: 0 0% 20%; /* #333333 */
  --input: 0 0% 20%; /* #333333 */
  --ring: 174 72% 46%; /* #0d9488 - Darker teal */

  --radius: 0.5rem;

  /* Sidebar colors - Pure neutral grays */
  --sidebar: 0 0% 7%; /* #121212 - Darkest */
  --sidebar-foreground: 0 0% 98%; /* #fafafa */
  --sidebar-primary: 174 72% 46%; /* #0d9488 - Darker teal */
  --sidebar-primary-foreground: 0 0% 100%; /* #ffffff */
  --sidebar-accent: 0 0% 15%; /* #262626 - Hover state */
  --sidebar-accent-foreground: 0 0% 98%; /* #fafafa */
  --sidebar-border: 0 0% 18%; /* #2e2e2e */
  --sidebar-ring: 174 72% 46%; /* #0d9488 */
}

@theme inline {
  /* Map CSS variables to Tailwind */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-sidebar: hsl(var(--sidebar));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground text-sm;
    font-family: "Inter", ui-sans-serif, system-ui, sans-serif;
  }

  /* Ensure html also has dark background */
  html {
    @apply bg-background;
    font-family: "Inter", ui-sans-serif, system-ui, sans-serif;
  }

  /* Custom prose styles for editor */
  .prose {
    @apply text-foreground;
    max-width: none;
  }

  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4,
  .prose h5,
  .prose h6 {
    @apply text-foreground font-bold;
    color: hsl(var(--foreground)) !important;
  }

  .prose h1 {
    @apply text-3xl mb-4 mt-6;
  }

  .prose h2 {
    @apply text-2xl mb-3 mt-5;
  }

  .prose h3 {
    @apply text-xl font-semibold mb-2 mt-4;
  }

  .prose p {
    @apply text-foreground mb-4 leading-7;
  }

  .prose strong,
  .prose b {
    @apply text-foreground font-bold;
    font-weight: 600 !important;
  }

  .prose em,
  .prose i {
    @apply text-foreground italic;
  }

  .prose code {
    @apply bg-secondary px-2 py-0.5 rounded font-mono border border-border/50;
    color: #22d3ee !important; /* bright cyan for visibility */
    font-size: 0.875em;
    font-weight: 500;
  }

  .prose pre {
    @apply bg-secondary text-foreground p-4 rounded-lg overflow-x-auto mb-4 border border-border;
  }

  .prose pre code {
    @apply bg-transparent p-0 border-0;
    color: hsl(var(--foreground)) !important;
  }

  .prose a {
    @apply text-primary underline hover:text-primary/80 transition-colors;
  }

  .prose ul {
    @apply mb-4 space-y-2;
    list-style: none;
    padding-left: 0;
  }

  .prose ul > li {
    @apply text-foreground pl-6 relative;
    list-style: none;
  }

  .prose ul > li::before {
    content: "â€¢";
    @apply absolute font-bold;
    left: 0;
    font-size: 1.2em;
    line-height: 1.5;
    color: #22d3ee !important; /* bright cyan */
  }

  .prose ul > li > p {
    @apply inline;
    margin: 0;
  }

  .prose ol {
    @apply mb-4 space-y-2;
    list-style: none !important;
    counter-reset: list-counter;
    padding-left: 0 !important;
  }

  .prose ol > li {
    @apply text-foreground relative;
    counter-increment: list-counter;
    list-style: none !important;
    padding-left: 1.5rem !important;
    display: block !important;
    color: hsl(var(--foreground)) !important;
  }

  .prose ol > li::marker {
    display: none !important;
    content: "" !important;
  }

  .prose ol > li::before {
    content: counter(list-counter) ". " !important;
    @apply absolute font-semibold;
    left: 0;
    top: 0;
    color: #22d3ee !important; /* bright cyan */
    display: inline-block !important;
  }

  .prose ol > li > p {
    display: inline !important;
    margin: 0 !important;
    color: hsl(var(--foreground)) !important;
  }

  /* Force list item text color at all levels */
  .prose ol > li,
  .prose ol > li > *,
  .prose ol > li p {
    color: hsl(var(--foreground)) !important;
  }

  /* Remove any data-list-item attributes that might add numbers */
  .prose ol > li[data-list-item]::before {
    content: counter(list-counter) ". " !important;
  }

  .prose li {
    @apply text-foreground leading-7;
  }

  /* Nested lists */
  .prose ul ul,
  .prose ol ol,
  .prose ul ol,
  .prose ol ul {
    @apply mt-2 mb-0;
  }

  /* Remove default list styling completely */
  .prose ul[data-type="bulletList"],
  .prose ol[data-type="orderedList"] {
    list-style: none !important;
  }

  .prose ul[data-type="bulletList"] > li,
  .prose ol[data-type="orderedList"] > li {
    list-style: none !important;
  }

  .prose blockquote {
    @apply border-l-4 border-primary/50 pl-4 italic text-muted-foreground my-4;
  }

  .prose hr {
    @apply border-border my-6;
  }

  /* Force code and list colors with higher specificity */
  .ProseMirror code,
  .tiptap code,
  [contenteditable="true"] code {
    color: #22d3ee !important;
  }

  .ProseMirror ol > li::before,
  .tiptap ol > li::before,
  [contenteditable="true"] ol > li::before {
    color: #22d3ee !important;
  }

  .ProseMirror ul > li::before,
  .tiptap ul > li::before,
  [contenteditable="true"] ul > li::before {
    color: #22d3ee !important;
  }

  /* Force list item TEXT color (not the counter) */
  .ProseMirror ol > li,
  .ProseMirror ol > li > *,
  .tiptap ol > li,
  .tiptap ol > li > *,
  [contenteditable="true"] ol > li,
  [contenteditable="true"] ol > li > * {
    color: hsl(var(--foreground)) !important;
  }

  .ProseMirror ul > li,
  .ProseMirror ul > li > *,
  .tiptap ul > li,
  .tiptap ul > li > *,
  [contenteditable="true"] ul > li,
  [contenteditable="true"] ul > li > * {
    color: hsl(var(--foreground)) !important;
  }
}

/* Fix for dropdown menus and popovers to have proper background */
[data-radix-popper-content-wrapper] {
  z-index: 50;
}

/* Ensure cards have visible background */
.bg-muted\/50 {
  background-color: hsl(var(--muted) / 0.5);
}

/* Fix sidebar inset background */
[data-sidebar="inset"] {
  background-color: hsl(var(--background));
}
